<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>動画分割・合体プレイヤー</title>
    <style>
        body { font-family: sans-serif; background: #1a1a1a; color: white; text-align: center; padding: 20px; }
        
        /* 動画を表示するコンテナ */
        .split-screen {
            display: flex;
            width: 90%;
            max-width: 1000px;
            aspect-ratio: 16 / 9; /* 動画の標準比率 */
            margin: 20px auto;
            border: 4px solid #444;
            overflow: hidden;
            background: black;
        }

        /* 各動画のスタイル（左半分を表示） */
        .half-video {
            width: 50%; /* 画面の半分 */
            height: 100%;
            object-fit: cover; /* 領域を埋める */
            object-position: left; /* 「左半分」を表示の基準にする */
            border: none;
        }

        /* 選択エリア */
        .controls {
            display: flex;
            justify-content: space-around;
            margin-top: 20px;
        }
        .select-box {
            background: #333;
            padding: 15px;
            border-radius: 8px;
            width: 45%;
        }
        select {
            padding: 8px;
            width: 100%;
            margin-top: 10px;
        }
        .play-btn {
            margin-top: 30px;
            padding: 15px 40px;
            font-size: 1.2em;
            cursor: pointer;
            background: #28a745;
            color: white;
            border: none;
            border-radius: 5px;
        }
    </style>
</head>
<body>

    <h1>2つの動画を合体再生</h1>

    <div class="split-screen">
        <video id="videoA" class="half-video" muted playsinline>
            <source src="" type="video/mp4">
        </video>
        <video id="videoB" class="half-video" muted playsinline>
            <source src="" type="video/mp4">
        </video>
    </div>

    <button class="play-btn" onclick="syncPlay()">同時再生 / 一時停止</button>

    <div class="controls">
        <div class="select-box">
            <h3>左側の映像 (動画A)</h3>
            <select id="selectA" onchange="changeVideo('A')">
                <option value="">動画を選択してください</option>
                <option value="videos/movie1.mp4">動画 1</option>
                <option value="videos/movie2.mp4">動画 2</option>
                <option value="videos/movie3.mp4">動画 3</option>
            </select>
        </div>

        <div class="select-box">
            <h3>右側の映像 (動画B)</h3>
            <select id="selectB" onchange="changeVideo('B')">
                <option value="">動画を選択してください</option>
                <option value="videos/movie1.mp4">動画 1</option>
                <option value="videos/movie2.mp4">動画 2</option>
                <option value="videos/movie3.mp4">動画 3</option>
            </select>
        </div>
    </div>

    <script>
        const vA = document.getElementById('videoA');
        const vB = document.getElementById('videoB');

        // 動画ファイルの変更
        function changeVideo(side) {
            if (side === 'A') {
                vA.src = document.getElementById('selectA').value;
                vA.load();
            } else {
                vB.src = document.getElementById('selectB').value;
                vB.load();
            }
        }

        // 同時再生・一時停止の制御
        function syncPlay() {
            if (vA.paused) {
                // 再生位置を合わせてから再生
                vB.currentTime = vA.currentTime;
                vA.play();
                vB.play();
            } else {
                vA.pause();
                vB.pause();
            }
        }

        // 片方をシーク（スライド）した時にもう片方も合わせる
        vA.onseeked = () => { vB.currentTime = vA.currentTime; };
    </script>

</body>
</html>
